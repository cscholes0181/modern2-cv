#| label: nocite-refs
#| output: asis
#| echo: false
all_cites <- c("@ektas2020protocol", "@fatima2022effect", "@scholes2015", "@harrisonbrown2019", "@scholes2023")
cat(paste0("\\nocite{", gsub("@", "", all_cites), "}"), sep = "\n")
#| label: output
#| output: asis
tbl <- tibble::tribble(
~domain, ~summary, ~examplecite,
"Meta-Science", "Systematic Review; Meta-Analysis; Meta-Regression", c("Scholes et al. 2015", "Harrison-Brown et al. 2019", "Scholes et al. 2023"),
"Open Science", "Trial Registration; Protocol Development", c("Ektas et al 2019", "Fatima et al 2020"),
"Computer-Assisted Surgery", "Shoulder; Hip; Knee",
c("Oussedik et al. 2012", "Lustig et al. 2013", "Nashikkar, Scholes, and Haber 2019", "Scholes, Schwagli, and Ireland 2023"),
"Clinical Quality Registry", "Implementation and validation in practice",
c("Jenio et al 2019", "Lee et al 2020", "Scholes et al 2023b")
)
links <- c(
"Scholes et al 2015" = "http://dx.doi.org/10.1007/s00167-013-2482-3",
"Harrison-Brown et al. 2019" = "http://dx.doi.org/10.1186/s13018-019-1070-8",
"Scholes et al. 2023a" = "http://dx.doi.org/10.1007/s00167-022-07299-3",
"Ektas et al 2019" = "http://dx.doi.org/10.1186/s13018-019-1127-8",
"Fatima et al 2020" = "http://dx.doi.org/10.1186/s13063-022-06591-4",
"Oussedik et al. 2012" = "http://dx.doi.org/10.1007/s11999-012-2515-0",
"Nashikkar, Scholes, and Haber 2019" = "http://dx.doi.org/10.1016/j.jse.2019.03.013",
"Scholes, Schwagli, and Ireland 2023" = "http://dx.doi.org/10.1186/s42836-023-00217-z",
"Jenio et al 2019" = "http://dx.doi.org/10.21037/atm.2019.02.38",
"Lee et al 2020" = "http://dx.doi.org/10.1186/s12913-020-05203-8",
"Scholes et al 2023b" = "http://dx.doi.org/10.1093/jsprm/snad014"
)
tbl <- tibble::tribble(
~domain, ~summary, ~examplecite,
"Meta-Science", "Systematic Review; Meta-Analysis; Meta-Regression",
c("Corey Scholes et al. 2015", "Harrison-Brown et al. 2019", "Scholes et al. 2023"),
"Open Science", "Trial Registration; Protocol Development",
c("Ektas et al 2019", "Fatima et al 2020")
)
cvoutput(tbl, domain = "domain", summary = "summary", examplecite = "examplecite", link_map = links)
#| label: cvevents
cvevents <- function(tbl, when, what, where, descr) {
command_start <- "\\cvevent"
tbl[[where]] <- gsub("\n", " \\\\newline ", tbl[[where]])
res <- paste0(
command_start, "{", tbl[[when]], "}",
"{", tbl[[what]], "}",
"{", tbl[[where]], "}",
"{", tbl[[descr]], "}"
)
cat(res, sep = "\n\n\n")
}
cvoutput <- function(tbl,domain, summary, examplecite){   #what,role,items
command_start <- "\\cvoutput"
# Helper: wrap citations in hyperlinks if link_map is provided
format_cites <- function(cites) {
sapply(cites, function(x) {
if (!is.null(link_map) && x %in% names(link_map)) {
paste0("\\href{", link_map[[x]], "}{", x, "}")
} else {
x
}
})
}
res <- paste0(
command_start, "{", tbl[[domain]], "}",
"{", tbl[[summary]], "}",
"{", sapply(tbl[[examplecite]], function(x)paste0(format_cites(x), collapse = "; ")), "}"
)
cat(res, sep = "\n\n\n")
}
#| label: output
#| output: asis
tbl <- tibble::tribble(
~domain, ~summary, ~examplecite,
"Meta-Science", "Systematic Review; Meta-Analysis; Meta-Regression", c("Scholes et al. 2015", "Harrison-Brown et al. 2019", "Scholes et al. 2023"),
"Open Science", "Trial Registration; Protocol Development", c("Ektas et al 2019", "Fatima et al 2020"),
"Computer-Assisted Surgery", "Shoulder; Hip; Knee",
c("Oussedik et al. 2012", "Lustig et al. 2013", "Nashikkar, Scholes, and Haber 2019", "Scholes, Schwagli, and Ireland 2023"),
"Clinical Quality Registry", "Implementation and validation in practice",
c("Jenio et al 2019", "Lee et al 2020", "Scholes et al 2023b")
)
links <- c(
"Scholes et al 2015" = "http://dx.doi.org/10.1007/s00167-013-2482-3",
"Harrison-Brown et al. 2019" = "http://dx.doi.org/10.1186/s13018-019-1070-8",
"Scholes et al. 2023a" = "http://dx.doi.org/10.1007/s00167-022-07299-3",
"Ektas et al 2019" = "http://dx.doi.org/10.1186/s13018-019-1127-8",
"Fatima et al 2020" = "http://dx.doi.org/10.1186/s13063-022-06591-4",
"Oussedik et al. 2012" = "http://dx.doi.org/10.1007/s11999-012-2515-0",
"Nashikkar, Scholes, and Haber 2019" = "http://dx.doi.org/10.1016/j.jse.2019.03.013",
"Scholes, Schwagli, and Ireland 2023" = "http://dx.doi.org/10.1186/s42836-023-00217-z",
"Jenio et al 2019" = "http://dx.doi.org/10.21037/atm.2019.02.38",
"Lee et al 2020" = "http://dx.doi.org/10.1186/s12913-020-05203-8",
"Scholes et al 2023b" = "http://dx.doi.org/10.1093/jsprm/snad014"
)
tbl <- tibble::tribble(
~domain, ~summary, ~examplecite,
"Meta-Science", "Systematic Review; Meta-Analysis; Meta-Regression",
c("Corey Scholes et al. 2015", "Harrison-Brown et al. 2019", "Scholes et al. 2023"),
"Open Science", "Trial Registration; Protocol Development",
c("Ektas et al 2019", "Fatima et al 2020")
)
cvoutput(tbl, domain = "domain", summary = "summary", examplecite = "examplecite", link_map = links)
help(cvoutput)
#| label: output
#| output: asis
tbl <- tibble::tribble(
~domain, ~summary, ~examplecite,
"Meta-Science", "Systematic Review; Meta-Analysis; Meta-Regression",
c("[Scholes et al. 2015](http://dx.doi.org/10.1007/s00167-013-2482-3)", "[Harrison-Brown et al. 2019](http://dx.doi.org/10.1186/s13018-019-1070-8)", "[Scholes et al. 2023](http://dx.doi.org/10.1007/s00167-022-07299-3)"),
"Open Science", "Trial Registration; Protocol Development",
c("[Ektas et al 2019](http://dx.doi.org/10.1186/s13018-019-1127-8)", "[Fatima et al 2020](http://dx.doi.org/10.1186/s13063-022-06591-4)"),
"Computer-Assisted Surgery", "Shoulder; Hip; Knee",
c("[Oussedik et al. 2012](http://dx.doi.org/10.1007/s11999-012-2515-0)", "Nashikkar, Scholes, and Haber 2019](http://dx.doi.org/10.1016/j.jse.2019.03.013)", "[Lustig et al. 2013](http://dx.doi.org/10.1016/j.arth.2013.05.020)",  "Scholes, Schwagli, and Ireland 2023](http://dx.doi.org/10.1186/s42836-023-00217-z)"),
"Clinical Quality Registry", "Implementation and validation in practice",
c("Jenio et al 2019](http://dx.doi.org/10.21037/atm.2019.02.38)", "Lee et al 2020](http://dx.doi.org/10.1186/s12913-020-05203-8)", "Scholes et al 2023b](http://dx.doi.org/10.1093/jsprm/snad014)"),
"Health Services", "Practice quality audit and improvement",
c("[Tucker et al 2020](http://dx.doi.org/10.1186/s40945-020-00093-9)","[Barton et al 2024](http://dx.doi.org/10.1111/ajag.13247)")
) |> cvoutput(domain = "domain", summary = "summary", examplecite = "examplecite")
#| label: cvevents
cvevents <- function(tbl, when, what, where, descr) {
command_start <- "\\cvevent"
tbl[[where]] <- gsub("\n", " \\\\newline ", tbl[[where]])
res <- paste0(
command_start, "{", tbl[[when]], "}",
"{", tbl[[what]], "}",
"{", tbl[[where]], "}",
"{", tbl[[descr]], "}"
)
cat(res, sep = "\n\n\n")
}
cvoutput <- function(tbl,domain, summary, examplecite){   #what,role,items
command_start <- "\\cvoutput"
res <- paste0(
command_start, "{", tbl[[domain]], "}",
"{", tbl[[summary]], "}",
"{", sapply(tbl[[examplecite]], function(x) paste0(x, collapse = "; ")), "}"
)
cat(res, sep = "\n\n\n")
}
#| label: output
#| output: asis
tbl <- tibble::tribble(
~domain, ~summary, ~examplecite,
"Meta-Science", "Systematic Review; Meta-Analysis; Meta-Regression",
c("[Scholes et al. 2015](http://dx.doi.org/10.1007/s00167-013-2482-3)", "[Harrison-Brown et al. 2019](http://dx.doi.org/10.1186/s13018-019-1070-8)", "[Scholes et al. 2023](http://dx.doi.org/10.1007/s00167-022-07299-3)"),
"Open Science", "Trial Registration; Protocol Development",
c("[Ektas et al 2019](http://dx.doi.org/10.1186/s13018-019-1127-8)", "[Fatima et al 2020](http://dx.doi.org/10.1186/s13063-022-06591-4)"),
"Computer-Assisted Surgery", "Shoulder; Hip; Knee",
c("[Oussedik et al. 2012](http://dx.doi.org/10.1007/s11999-012-2515-0)", "Nashikkar, Scholes, and Haber 2019](http://dx.doi.org/10.1016/j.jse.2019.03.013)", "[Lustig et al. 2013](http://dx.doi.org/10.1016/j.arth.2013.05.020)",  "Scholes, Schwagli, and Ireland 2023](http://dx.doi.org/10.1186/s42836-023-00217-z)"),
"Clinical Quality Registry", "Implementation and validation in practice",
c("Jenio et al 2019](http://dx.doi.org/10.21037/atm.2019.02.38)", "Lee et al 2020](http://dx.doi.org/10.1186/s12913-020-05203-8)", "Scholes et al 2023b](http://dx.doi.org/10.1093/jsprm/snad014)"),
"Health Services", "Practice quality audit and improvement",
c("[Tucker et al 2020](http://dx.doi.org/10.1186/s40945-020-00093-9)","[Barton et al 2024](http://dx.doi.org/10.1111/ajag.13247)")
) |> cvoutput(domain = "domain", summary = "summary", examplecite = "examplecite")
#| label: output
#| output: asis
tbl <- tibble::tribble(
~domain, ~summary, ~examplecite,
"Meta-Science", "Systematic Review; Meta-Analysis; Meta-Regression",
c("\\href{http://dx.doi.org/10.1007/s00167-013-2482-3}{Scholes et al. 2015}", "\\href{http://dx.doi.org/10.1186/s13018-019-1070-8){Harrison-Brown et al. 2019}", "\\href{http://dx.doi.org/10.1007/s00167-022-07299-3}{Scholes et al. 2023}"),
"Open Science", "Trial Registration; Protocol Development",
c("\\href{http://dx.doi.org/10.1186/s13018-019-1127-8}{Ektas et al 2019}", "\\href{http://dx.doi.org/10.1186/s13063-022-06591-4}{Fatima et al 2020}"),
"Computer-Assisted Surgery", "Shoulder; Hip; Knee",
c("\\href{http://dx.doi.org/10.1007/s11999-012-2515-0}{Oussedik et al. 2012}", "\\href{http://dx.doi.org/10.1016/j.jse.2019.03.013}{Nashikkar, Scholes, and Haber 2019}", "\\href{http://dx.doi.org/10.1016/j.arth.2013.05.020{)}{Lustig et al. 2013}",  "\\href{http://dx.doi.org/10.1186/s42836-023-00217-z}{Scholes, Schwagli, and Ireland 2023}"),
"Clinical Quality Registry", "Implementation and validation in practice",
c("\\href{http://dx.doi.org/10.21037/atm.2019.02.38}{Jenio et al 2019}", "\\href{http://dx.doi.org/10.1186/s12913-020-05203-8}{Lee et al 2020}", "\\href{http://dx.doi.org/10.1093/jsprm/snad014}{Scholes et al 2023b}"),
"Health Services", "Practice quality audit and improvement",
c("\\href{http://dx.doi.org/10.1186/s40945-020-00093-9}{Tucker et al 2020}","\\href{http://dx.doi.org/10.1111/ajag.13247}{Barton et al 2024}")
) |> cvoutput(domain = "domain", summary = "summary", examplecite = "examplecite")
